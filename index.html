<!DOCTYPE html>
<html lang="vi" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    
    <!-- SEO Meta Tags -->
    <title>VocabMaster - á»¨ng Dá»¥ng Há»c Tá»« Vá»±ng Tiáº¿ng Anh Miá»…n PhÃ­</title>
    <meta name="description" content="VocabMaster - á»¨ng dá»¥ng há»c tá»« vá»±ng tiáº¿ng Anh thÃ´ng minh vá»›i há»‡ thá»‘ng Spaced Repetition. Há»c tá»« vá»±ng hiá»‡u quáº£, thÃ¡ch Ä‘áº¥u vá»›i báº¡n bÃ¨, theo dÃµi tiáº¿n Ä‘á»™. HoÃ n toÃ n miá»…n phÃ­!">
    <meta name="keywords" content="há»c tiáº¿ng Anh, tá»« vá»±ng tiáº¿ng Anh, spaced repetition, flashcard, há»c tá»« vá»±ng, English vocabulary, VocabMaster, á»©ng dá»¥ng há»c tiáº¿ng Anh, há»c tiáº¿ng Anh miá»…n phÃ­">
    <meta name="author" content="VocabMaster">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Vietnamese">
    <link rel="canonical" href="https://vocabulary.click">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://vocabulary.click">
    <meta property="og:title" content="VocabMaster - Há»c Tá»« Vá»±ng Tiáº¿ng Anh Hiá»‡u Quáº£">
    <meta property="og:description" content="á»¨ng dá»¥ng há»c tá»« vá»±ng tiáº¿ng Anh thÃ´ng minh vá»›i Spaced Repetition. ThÃ¡ch Ä‘áº¥u báº¡n bÃ¨, theo dÃµi tiáº¿n Ä‘á»™. Miá»…n phÃ­!">
    <meta property="og:image" content="https://vocabulary.click/icons/icon-512.png">
    <meta property="og:locale" content="vi_VN">
    <meta property="og:site_name" content="VocabMaster">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://vocabulary.click">
    <meta name="twitter:title" content="VocabMaster - Há»c Tá»« Vá»±ng Tiáº¿ng Anh Hiá»‡u Quáº£">
    <meta name="twitter:description" content="á»¨ng dá»¥ng há»c tá»« vá»±ng tiáº¿ng Anh thÃ´ng minh vá»›i Spaced Repetition. ThÃ¡ch Ä‘áº¥u báº¡n bÃ¨, theo dÃµi tiáº¿n Ä‘á»™. Miá»…n phÃ­!">
    <meta name="twitter:image" content="https://vocabulary.click/icons/icon-512.png">
    
    <!-- PWA & Theme -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="VocabMaster">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-192.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/icon-192.png">
    <link rel="shortcut icon" href="icons/icon-192.png">
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' https://www.gstatic.com https://cdn.sheetjs.com https://www.google.com https://apis.google.com https://cdn.onesignal.com https://onesignal.com https://api.onesignal.com 'unsafe-inline' 'unsafe-eval';
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
        font-src 'self' https://fonts.gstatic.com;
        img-src 'self' data: https: blob:;
        connect-src 'self' https://*.googleapis.com https://*.firebaseio.com wss://*.firebaseio.com https://*.cloudfunctions.net https://firestore.googleapis.com https://identitytoolkit.googleapis.com https://securetoken.googleapis.com https://onesignal.com https://*.onesignal.com https://api.onesignal.com;
        frame-src https://www.google.com https://vocabmaster-4c784.firebaseapp.com https://apis.google.com;
        worker-src 'self' https://cdn.onesignal.com;
    ">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    
    <!-- OneSignal Push Notifications -->
    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
    <script>
        window.OneSignalDeferred = window.OneSignalDeferred || [];
        OneSignalDeferred.push(async function(OneSignal) {
            await OneSignal.init({
                appId: "098cbdcc-90ec-4af9-84a1-89e53dde4723",
                allowLocalhostAsSecureOrigin: true
            });
        });
    </script>
</head>
<body>
    <!-- Header -->
    <!-- Loading Overlay - shown until auth state is determined -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <p>Äang táº£i...</p>
    </div>

    <header class="header">
        <div class="header-left">
            <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="logo">
                <span class="logo-icon">ğŸ“š</span>
                <span class="logo-text">VocabMaster</span>
            </div>
        </div>
        <div class="header-right">
            <!-- Login/User Area -->
            <button id="loginBtn" class="btn btn-primary btn-sm" style="padding: 0.5rem 1rem; display: none;">
                ÄÄƒng nháº­p
            </button>
            <div id="userInfo" class="user-info" style="display: none; cursor: pointer;" onclick="App.showProfileModal()">
                <img id="userAvatar" class="user-avatar" src="" alt="Avatar">
                <span id="userName" class="user-name"></span>
            </div>
            
            <button class="btn-icon" id="syncBtn" aria-label="Äá»“ng bá»™" title="Äá»“ng bá»™ dá»¯ liá»‡u">
                â˜ï¸
            </button>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                <span class="theme-icon-dark">ğŸŒ™</span>
                <span class="theme-icon-light">â˜€ï¸</span>
            </button>
        </div>
    </header>

    <!-- Landing Page (shown when not logged in) -->
    <div class="landing-page" id="landingPage">
        <!-- Hero Section -->
        <section class="landing-hero">
            <div class="hero-content">
                <h1 class="hero-title">ğŸ“š VocabMaster</h1>
                <p class="hero-subtitle">á»¨ng dá»¥ng há»c tá»« vá»±ng tiáº¿ng Anh thÃ´ng minh vá»›i há»‡ thá»‘ng Spaced Repetition</p>
                <div class="hero-buttons">
                    <button class="btn btn-hero btn-lg" id="landingLoginBtn">
                        <svg width="18" height="18" viewBox="0 0 24 24" style="margin-right: 8px;"><path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
                        Tiáº¿p tá»¥c vá»›i Google
                    </button>
                    <button class="btn btn-secondary btn-lg" onclick="Auth.showEmailAuthModal()">
                        ğŸ“§ ÄÄƒng nháº­p báº±ng Email
                    </button>
                </div>
            </div>
        </section>

        <!-- Motivational Quotes -->
        <section class="landing-section">
            <div class="mission-cards">
                <div class="mission-card">
                    <div class="mission-icon">ğŸ’ª</div>
                    <h3>KiÃªn trÃ¬ má»—i ngÃ y</h3>
                    <p>"Má»—i ngÃ y má»™t tá»« má»›i, má»™t nÄƒm sau báº¡n sáº½ biáº¿t thÃªm 365 tá»«. HÃ nh trÃ¬nh ngÃ n dáº·m báº¯t Ä‘áº§u tá»« má»™t bÆ°á»›c chÃ¢n."</p>
                </div>
                <div class="mission-card">
                    <div class="mission-icon">ğŸ§ </div>
                    <h3>Nhá»› lÃ¢u hÆ¡n</h3>
                    <p>"Ã”n táº­p Ä‘Ãºng lÃºc, nhá»› mÃ£i khÃ´ng quÃªn. Spaced Repetition giÃºp báº¡n há»c Ã­t mÃ  nhá»› nhiá»u."</p>
                </div>
                <div class="mission-card">
                    <div class="mission-icon">ğŸ”¥</div>
                    <h3>CÃ¹ng nhau tiáº¿n bá»™</h3>
                    <p>"Há»c má»™t mÃ¬nh Ä‘i nhanh, há»c cÃ¹ng nhau Ä‘i xa. ThÃ¡ch Ä‘áº¥u báº¡n bÃ¨, cÃ¹ng nhau chinh phá»¥c tiáº¿ng Anh!"</p>
                </div>
            </div>
        </section>

        <!-- Features -->
        <section class="landing-section">
            <h2 class="section-title">âœ¨ TÃ­nh nÄƒng ná»•i báº­t</h2>
            <div class="features-grid">
                <div class="feature-item">
                    <span class="feature-icon">ğŸ”Š</span>
                    <span>PhÃ¡t Ã¢m chuáº©n US/UK</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">ğŸ“</span>
                    <span>Kiá»ƒm tra chÃ­nh táº£</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">ğŸ”¥</span>
                    <span>Streak & Gamification</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">â˜ï¸</span>
                    <span>Äá»“ng bá»™ Ä‘a thiáº¿t bá»‹</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">ğŸ†</span>
                    <span>Achievements & Badges</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">ğŸ“Š</span>
                    <span>Thá»‘ng kÃª chi tiáº¿t</span>
                </div>
            </div>
        </section>

        <!-- Global Stats -->
        <section class="landing-section">
            <h2 class="section-title">ğŸ“Š Thá»‘ng kÃª cá»™ng Ä‘á»“ng</h2>
            <div class="global-stats">
                <div class="global-stat">
                    <span class="global-stat-value" id="globalUsers">0</span>
                    <span class="global-stat-label">NgÆ°á»i dÃ¹ng</span>
                </div>
                <div class="global-stat">
                    <span class="global-stat-value" id="globalWords">0</span>
                    <span class="global-stat-label">Tá»« vá»±ng Ä‘Ã£ há»c</span>
                </div>
                <div class="global-stat">
                    <span class="global-stat-value" id="globalOnline">0</span>
                    <span class="global-stat-label">Äang online</span>
                </div>
            </div>
        </section>

        <!-- Leaderboard -->
        <section class="landing-section">
            <h2 class="section-title">ğŸ† Báº£ng xáº¿p háº¡ng</h2>
            <div class="leaderboard" id="landingLeaderboard">
                <div class="leaderboard-loading">Äang táº£i...</div>
            </div>
        </section>

        <!-- App Install Section -->
        <section class="landing-section install-section">
            <h2 class="section-title">ğŸ“± CÃ i Ä‘áº·t á»©ng dá»¥ng</h2>
            <p class="install-subtitle">ThÃªm VocabMaster vÃ o mÃ n hÃ¬nh chÃ­nh Ä‘á»ƒ tráº£i nghiá»‡m nhÆ° á»©ng dá»¥ng native!</p>
            
            <div class="install-cards">
                <div class="install-card">
                    <div class="install-icon">ğŸ</div>
                    <h3>iPhone / iPad</h3>
                    <ol class="install-steps">
                        <li>Má»Ÿ trang web nÃ y trÃªn Safari</li>
                        <li>Nháº¥n nÃºt <strong>Chia sáº»</strong> <span class="share-icon">â¬†ï¸</span></li>
                        <li>Chá»n <strong>"ThÃªm vÃ o MH chÃ­nh"</strong></li>
                        <li>Nháº¥n <strong>"ThÃªm"</strong></li>
                    </ol>
                </div>
                <div class="install-card">
                    <div class="install-icon">ğŸ¤–</div>
                    <h3>Android</h3>
                    <ol class="install-steps">
                        <li>Má»Ÿ trang web nÃ y trÃªn Chrome</li>
                        <li>Nháº¥n menu <strong>â‹®</strong> (3 cháº¥m)</li>
                        <li>Chá»n <strong>"CÃ i Ä‘áº·t á»©ng dá»¥ng"</strong> hoáº·c <strong>"ThÃªm vÃ o MH chÃ­nh"</strong></li>
                        <li>Nháº¥n <strong>"CÃ i Ä‘áº·t"</strong></li>
                    </ol>
                </div>
            </div>
            
            <!-- PWA Install Button (shown when available) -->
            <button class="btn btn-install btn-lg" id="pwaInstallBtn" style="display: none;">
                â¬‡ï¸ CÃ i Ä‘áº·t á»©ng dá»¥ng
            </button>
        </section>

        <!-- CTA -->
        <section class="landing-cta">
            <h2>Sáºµn sÃ ng báº¯t Ä‘áº§u hÃ nh trÃ¬nh?</h2>
            <div class="cta-buttons">
                <button class="btn btn-hero btn-lg" onclick="Auth.signInWithGoogle()">
                    ÄÄƒng nháº­p báº±ng Google
                </button>
                <button class="btn btn-secondary btn-lg" onclick="Auth.showEmailAuthModal()">
                    ğŸ“§ ÄÄƒng nháº­p báº±ng Email
                </button>
            </div>
        </section>
    </div>

    <!-- App Container (shown when logged in) -->
    <div class="app-container" id="appContainer" style="display: none;">
        <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>Chá»§ Ä‘á»</h2>
            <button class="btn-icon" id="addTopicBtn" aria-label="ThÃªm chá»§ Ä‘á»">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
            </button>
        </div>
        <nav class="sidebar-nav">
            <button class="nav-item active" data-view="dashboard">
                <span class="nav-icon">ğŸ“Š</span>
                <span class="nav-text">Dashboard</span>
            </button>
            <button class="nav-item" data-view="all-words">
                <span class="nav-icon">ğŸ“–</span>
                <span class="nav-text">Táº¥t cáº£ tá»« vá»±ng</span>
            </button>
            <button class="nav-item" data-view="review-due">
                <span class="nav-icon">ğŸ””</span>
                <span class="nav-text">Cáº§n Ã´n táº­p</span>
                <span class="nav-badge" id="dueBadge">0</span>
            </button>
            <button class="nav-item" data-view="chat">
                <span class="nav-icon">ğŸ’¬</span>
                <span class="nav-text">Chat cá»™ng Ä‘á»“ng</span>
                <span class="nav-badge" id="chatBadge" style="display: none;">0</span>
            </button>
            <button class="nav-item" data-view="inbox">
                <span class="nav-icon">ğŸ“¬</span>
                <span class="nav-text">Tin nháº¯n</span>
                <span class="nav-badge" id="inboxBadge" style="display: none;">0</span>
            </button>
            <button class="nav-item" data-view="challenges">
                <span class="nav-icon">âš”ï¸</span>
                <span class="nav-text">ThÃ¡ch Ä‘áº¥u</span>
                <span class="nav-badge" id="challengesBadge" style="display: none;">0</span>
            </button>
            <button class="nav-item" data-view="explore">
                <span class="nav-icon">ğŸ”</span>
                <span class="nav-text">KhÃ¡m phÃ¡</span>
            </button>
            <button class="nav-item" data-view="admin" id="adminNavItem" style="display: none;">
                <span class="nav-icon">âš™ï¸</span>
                <span class="nav-text">Admin Panel</span>
            </button>
        </nav>
        <div class="sidebar-divider"></div>
        <div class="topics-list" id="topicsList">
            <!-- Topics will be rendered here -->
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Dashboard View -->
        <section class="view active" id="dashboardView">
            <div class="view-header">
                <h1>Dashboard</h1>
            </div>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon stat-icon-books">
                        <svg viewBox="0 0 64 64" width="40" height="40">
                            <defs>
                                <linearGradient id="bookGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#6366f1"/>
                                    <stop offset="100%" style="stop-color:#8b5cf6"/>
                                </linearGradient>
                                <linearGradient id="bookGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#22c55e"/>
                                    <stop offset="100%" style="stop-color:#16a34a"/>
                                </linearGradient>
                            </defs>
                            <rect class="book book1" x="8" y="12" width="14" height="44" rx="2" fill="url(#bookGrad1)"/>
                            <rect class="book book2" x="25" y="8" width="14" height="48" rx="2" fill="url(#bookGrad2)"/>
                            <rect class="book book3" x="42" y="14" width="14" height="42" rx="2" fill="#f59e0b"/>
                            <rect x="10" y="16" width="10" height="3" fill="rgba(255,255,255,0.4)" rx="1"/>
                            <rect x="27" y="12" width="10" height="3" fill="rgba(255,255,255,0.4)" rx="1"/>
                            <rect x="44" y="18" width="10" height="3" fill="rgba(255,255,255,0.4)" rx="1"/>
                        </svg>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="statTotalWords">0</span>
                        <span class="stat-label">Tá»•ng tá»« vá»±ng</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon stat-icon-check">
                        <svg viewBox="0 0 64 64" width="40" height="40">
                            <defs>
                                <linearGradient id="checkGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#22c55e"/>
                                    <stop offset="100%" style="stop-color:#16a34a"/>
                                </linearGradient>
                            </defs>
                            <circle class="check-circle" cx="32" cy="32" r="26" fill="url(#checkGrad)"/>
                            <path class="check-mark" d="M20 32 L28 40 L44 24" stroke="white" stroke-width="5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                            <circle class="sparkle s1" cx="14" cy="14" r="3" fill="#fcd34d"/>
                            <circle class="sparkle s2" cx="50" cy="12" r="2" fill="#fcd34d"/>
                            <circle class="sparkle s3" cx="52" cy="50" r="2.5" fill="#fcd34d"/>
                        </svg>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="statMastered">0</span>
                        <span class="stat-label">ÄÃ£ thuá»™c</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon stat-icon-pencil">
                        <svg viewBox="0 0 64 64" width="40" height="40">
                            <defs>
                                <linearGradient id="pencilGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#f59e0b"/>
                                    <stop offset="100%" style="stop-color:#d97706"/>
                                </linearGradient>
                            </defs>
                            <rect class="pencil-body" x="10" y="8" width="12" height="48" rx="2" fill="url(#pencilGrad)" transform="rotate(-30 32 32)"/>
                            <polygon class="pencil-tip" points="32,58 28,48 36,48" fill="#374151"/>
                            <rect x="10" y="8" width="12" height="8" fill="#ef4444" rx="1" transform="rotate(-30 32 32)"/>
                            <path class="write-line" d="M38 52 Q44 48 50 52 Q56 56 58 50" stroke="var(--accent-primary)" stroke-width="2" fill="none" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="statLearning">0</span>
                        <span class="stat-label">Äang há»c</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon stat-icon-fire">
                        <svg viewBox="0 0 64 64" width="40" height="40">
                            <defs>
                                <linearGradient id="fireGrad" x1="0%" y1="100%" x2="0%" y2="0%">
                                    <stop offset="0%" style="stop-color:#dc2626"/>
                                    <stop offset="40%" style="stop-color:#f97316"/>
                                    <stop offset="80%" style="stop-color:#fbbf24"/>
                                    <stop offset="100%" style="stop-color:#fef08a"/>
                                </linearGradient>
                                <linearGradient id="fireGrad2" x1="0%" y1="100%" x2="0%" y2="0%">
                                    <stop offset="0%" style="stop-color:#f97316"/>
                                    <stop offset="60%" style="stop-color:#fbbf24"/>
                                    <stop offset="100%" style="stop-color:#fef9c3"/>
                                </linearGradient>
                                <filter id="fireGlow" x="-50%" y="-50%" width="200%" height="200%">
                                    <feGaussianBlur stdDeviation="2" result="blur"/>
                                    <feMerge>
                                        <feMergeNode in="blur"/>
                                        <feMergeNode in="SourceGraphic"/>
                                    </feMerge>
                                </filter>
                            </defs>
                            <!-- Base glow -->
                            <ellipse class="flame-glow" cx="32" cy="60" rx="20" ry="6" fill="rgba(251,146,60,0.5)"/>
                            <!-- Outer flame -->
                            <path class="flame flame-outer" d="M32 4 Q50 22 46 36 Q54 30 56 42 Q58 56 38 62 Q18 62 12 44 Q10 32 18 36 Q14 22 32 4Z" fill="url(#fireGrad)" filter="url(#fireGlow)"/>
                            <!-- Middle flame -->
                            <path class="flame flame-main" d="M32 12 Q46 26 42 40 Q50 34 52 44 Q52 56 36 60 Q22 58 18 44 Q20 36 26 40 Q22 26 32 12Z" fill="url(#fireGrad2)"/>
                            <!-- Inner core flame -->
                            <path class="flame flame-inner" d="M32 28 Q40 36 38 46 Q44 42 46 48 Q46 56 34 58 Q24 56 22 48 Q26 44 28 48 Q26 38 32 28Z" fill="#fef08a"/>
                            <!-- Hot core -->
                            <ellipse class="flame-core" cx="32" cy="52" rx="6" ry="8" fill="#fff7ed" opacity="0.8"/>
                            <!-- Sparks -->
                            <circle class="spark spark1" cx="22" cy="20" r="2" fill="#fbbf24"/>
                            <circle class="spark spark2" cx="42" cy="16" r="1.5" fill="#fcd34d"/>
                            <circle class="spark spark3" cx="36" cy="8" r="1" fill="#fef08a"/>
                            <circle class="spark spark4" cx="26" cy="12" r="1.5" fill="#fbbf24"/>
                        </svg>
                    </div>
                    <div class="stat-info">
                        <span class="stat-value" id="statStreak">0</span>
                        <span class="stat-label">NgÃ y liÃªn tiáº¿p</span>
                    </div>
                </div>
            </div>
            
            <div class="dashboard-sections">
                <!-- Row 1: Due Words + Weekly Progress -->
                <div class="dashboard-row">
                    <div class="dashboard-section dashboard-section-half">
                        <div class="section-header">
                            <h2>âš ï¸ Tá»« cáº§n Ã´n táº­p hÃ´m nay</h2>
                            <button class="btn btn-primary btn-sm" id="startReviewBtn">Ã”n táº­p ngay</button>
                        </div>
                        <div class="due-words-preview" id="dueWordsPreview">
                            <p class="empty-state">KhÃ´ng cÃ³ tá»« nÃ o cáº§n Ã´n táº­p</p>
                        </div>
                    </div>
                    
                    <div class="dashboard-section dashboard-section-half">
                        <div class="section-header">
                            <h2>ğŸ“ˆ Tiáº¿n Ä‘á»™ tuáº§n nÃ y</h2>
                        </div>
                        <div class="weekly-chart" id="weeklyChart">
                            <!-- Chart will be rendered here -->
                        </div>
                    </div>
                </div>
                
                <!-- Row 2: Community Section -->
                <div class="dashboard-row">
                    <div class="dashboard-section dashboard-section-half">
                        <div class="section-header">
                            <h2>ğŸŸ¢ Äang online</h2>
                            <span class="online-count" id="dashboardOnlineCount">0</span>
                        </div>
                        <div class="online-users-preview" id="dashboardOnlineUsers">
                            <p class="empty-state">Äang táº£i...</p>
                        </div>
                    </div>
                    
                    <div class="dashboard-section dashboard-section-half">
                        <div class="section-header">
                            <h2>ğŸ† Báº£ng xáº¿p háº¡ng</h2>
                            <button class="btn btn-secondary btn-sm" id="viewAllLeaderboardBtn">Xem táº¥t cáº£</button>
                        </div>
                        <div class="leaderboard-preview" id="dashboardLeaderboard">
                            <!-- Top 5 users will be rendered here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Topics List View (Mobile) -->
        <section class="view" id="topicsListView">
            <div class="view-header">
                <h1>ğŸ“š Chá»§ Ä‘á» cá»§a tÃ´i</h1>
                <button class="btn btn-primary" id="addTopicBtnList">
                    <span>+</span> ThÃªm
                </button>
            </div>
            <div class="topics-list-mobile" id="topicsList2">
                <!-- Topics will be rendered here as list items -->
            </div>
        </section>

        <!-- Chat View -->
        <section class="view" id="chatView">
            <div class="view-header">
                <h1>ğŸ’¬ Chat cá»™ng Ä‘á»“ng</h1>
                <span class="online-badge"><span class="online-dot"></span> <span id="chatOnlineCount">0</span> Ä‘ang online</span>
            </div>
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <div class="chat-empty">Äang táº£i tin nháº¯n...</div>
                </div>
                <form class="chat-form" id="chatForm">
                    <button type="button" class="btn-icon" onclick="Explore.openShareModal('public')" title="Chia sáº» chá»§ Ä‘á»">ğŸ“š</button>
                    <input type="text" id="chatInput" placeholder="Nháº­p tin nháº¯n..." autocomplete="off" maxlength="500">
                    <button type="submit" class="btn btn-primary">Gá»­i</button>
                </form>
            </div>
        </section>

        <!-- Admin View -->
        <section class="view" id="adminView">
            <div class="view-header">
                <h1>âš™ï¸ Admin Panel</h1>
            </div>
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="users">ğŸ‘¥ Users</button>
                <button class="admin-tab" data-tab="messages">ğŸ’¬ Messages</button>
            </div>
            <div class="admin-content">
                <!-- Users Tab -->
                <div class="admin-tab-content active" id="adminUsersTab">
                    <div id="adminUsersList">
                        <p class="empty-state">Äang táº£i...</p>
                    </div>
                </div>
                <!-- Messages Tab -->
                <div class="admin-tab-content" id="adminMessagesTab">
                    <div id="adminMessagesList">
                        <p class="empty-state">Äang táº£i...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Challenges View -->
        <section class="view" id="challengesView">
            <div class="view-header">
                <h1>âš”ï¸ ThÃ¡ch Ä‘áº¥u</h1>
                <button class="btn btn-primary" id="createChallengeBtn">
                    <span>+</span> Táº¡o thÃ¡ch Ä‘áº¥u
                </button>
            </div>
            <div id="challengesList" class="challenges-list">
                <p class="empty-state">Äang táº£i...</p>
            </div>
        </section>

        <!-- Explore View -->
        <section class="view" id="exploreView">
            <div class="view-header">
                <h1>ğŸ” KhÃ¡m phÃ¡ chá»§ Ä‘á»</h1>
                <button class="btn btn-primary" onclick="Explore.openShareModal('public')">ğŸ“¤ Chia sáº» chá»§ Ä‘á» cá»§a tÃ´i</button>
            </div>
            <div class="search-bar">
                <input type="text" id="exploreSearch" placeholder="TÃ¬m kiáº¿m chá»§ Ä‘á»...">
            </div>
            <div id="exploreTopicsList" class="explore-topics-list">
                <p class="empty-state">Äang táº£i...</p>
            </div>
        </section>

        <!-- Inbox View -->
        <section class="view" id="inboxView">
            <div class="view-header">
                <h1>ğŸ“¬ Tin nháº¯n</h1>
            </div>
            <div id="conversationsList" class="conversations-list">
                <p class="empty-state">Äang táº£i...</p>
            </div>
        </section>

        <!-- Private Chat View -->
        <section class="view" id="privateChatView">
            <div class="private-chat-header">
                <button class="btn-icon" id="privateChatBack" title="Quay láº¡i">â†</button>
                <img src="" alt="" class="private-chat-avatar" id="privateChatAvatar">
                <span class="private-chat-name" id="privateChatTitle">Chat</span>
            </div>
            <div class="private-chat-container">
                <div class="private-messages" id="privateMessages">
                    <p class="empty-state">Äang táº£i...</p>
                </div>
                <form class="private-form" id="privateForm">
                    <button type="button" class="btn-icon" onclick="Explore.openShareModal('private')" title="Chia sáº» chá»§ Ä‘á»">ğŸ“š</button>
                    <input type="text" id="privateInput" placeholder="Nháº­p tin nháº¯n..." autocomplete="off" maxlength="500">
                    <button type="submit" class="btn btn-primary">Gá»­i</button>
                </form>
            </div>
        </section>

        <!-- Topic View -->
        <section class="view" id="topicView">
            <div class="view-header">
                <div class="view-title">
                    <span class="topic-icon" id="topicViewIcon">ğŸ“</span>
                    <h1 id="topicViewTitle">Chá»§ Ä‘á»</h1>
                </div>
                <div class="view-actions">
                    <button class="btn btn-secondary" id="reviewTopicBtn">
                        <span>ğŸ“–</span> Ã”n táº­p
                    </button>
                    <button class="btn btn-secondary" id="testTopicBtn">
                        <span>âœï¸</span> Kiá»ƒm tra
                    </button>
                    <button class="btn btn-secondary" id="openImportBtn" onclick="Import.openModal()">
                        <span>ğŸ“¥</span> Import
                    </button>
                    <button class="btn btn-primary" id="addWordBtn">
                        <span>+</span> ThÃªm tá»«
                    </button>
                </div>
            </div>
            <div class="words-list" id="wordsList">
                <!-- Words will be rendered here -->
            </div>
        </section>

        <!-- All Words View -->
        <section class="view" id="allWordsView">
            <div class="view-header">
                <h1>Táº¥t cáº£ tá»« vá»±ng</h1>
                <div class="view-actions">
                    <button class="btn btn-secondary" id="reviewAllBtn">
                        <span>ğŸ“–</span> Ã”n táº­p táº¥t cáº£
                    </button>
                    <button class="btn btn-secondary" id="testAllBtn">
                        <span>âœï¸</span> Kiá»ƒm tra táº¥t cáº£
                    </button>
                </div>
            </div>
            
            <!-- Topic Pills (Mobile) -->
            <div class="topic-pills-container" id="topicPillsContainer">
                <div class="topic-pills" id="topicPills">
                    <button class="topic-pill active" data-topic-id="all">ğŸ“š Táº¥t cáº£</button>
                    <!-- Topic pills will be rendered by JS -->
                </div>
                <button class="btn btn-icon topic-add-btn" id="addTopicBtnMobile" title="ThÃªm chá»§ Ä‘á»">â•</button>
            </div>
            
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="TÃ¬m kiáº¿m tá»« vá»±ng...">
            </div>
            <div class="words-list" id="allWordsList">
                <!-- All words will be rendered here -->
            </div>
        </section>

        <!-- Review Due View -->
        <section class="view" id="reviewDueView">
            <div class="view-header">
                <h1>ğŸ”” Tá»« cáº§n Ã´n táº­p</h1>
                <div class="view-actions">
                    <button class="btn btn-primary" id="startDueReviewBtn">Báº¯t Ä‘áº§u Ã´n táº­p</button>
                </div>
            </div>
            <div class="words-list" id="dueWordsList">
                <!-- Due words will be rendered here -->
            </div>
        </section>

        <!-- Review Mode -->
        <section class="view" id="reviewView">
            <div class="review-container">
                <div class="review-progress">
                    <span id="reviewProgress">0 / 0</span>
                    <button class="btn-icon" id="closeReviewBtn" aria-label="ÄÃ³ng">âœ•</button>
                </div>
                <div class="flashcard" id="flashcard">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <button class="speak-btn" id="speakBtn" aria-label="PhÃ¡t Ã¢m">ğŸ”Š</button>
                            <p class="flashcard-word" id="flashcardWord">Word</p>
                        </div>
                        <div class="flashcard-back">
                            <p class="flashcard-meaning" id="flashcardMeaning">NghÄ©a</p>
                        </div>
                    </div>
                </div>
                <p class="flashcard-hint">Click Ä‘á»ƒ láº­t tháº»</p>
                <div class="review-actions">
                    <button class="btn btn-secondary" id="prevCardBtn">â† TrÆ°á»›c</button>
                    <button class="btn btn-primary" id="nextCardBtn">Tiáº¿p â†’</button>
                </div>
            </div>
        </section>

        <!-- Test Mode -->
        <section class="view" id="testView">
            <div class="test-container">
                <div class="test-progress">
                    <span id="testProgress">0 / 0</span>
                    <span id="testScore">ÄÃºng: 0</span>
                    <button class="btn-icon" id="closeTestBtn" aria-label="ÄÃ³ng">âœ•</button>
                </div>
                <div class="test-card">
                    <p class="test-meaning" id="testMeaning">NghÄ©a tiáº¿ng Viá»‡t</p>
                    <input type="text" class="test-input" id="testInput" placeholder="Nháº­p tá»« tiáº¿ng Anh..." autocomplete="off">
                    <div class="test-feedback" id="testFeedback"></div>
                </div>
                <div class="test-actions">
                    <button class="btn btn-secondary" id="skipWordBtn">Bá» qua</button>
                    <button class="btn btn-primary" id="checkAnswerBtn">Kiá»ƒm tra</button>
                </div>
            </div>
        </section>

        <!-- Test Result -->
        <section class="view" id="testResultView">
            <div class="result-container">
                <div class="result-icon">ğŸ‰</div>
                <h1>Káº¿t quáº£ kiá»ƒm tra</h1>
                <div class="result-stats">
                    <div class="result-stat">
                        <span class="result-value" id="resultCorrect">0</span>
                        <span class="result-label">ÄÃºng</span>
                    </div>
                    <div class="result-stat">
                        <span class="result-value" id="resultWrong">0</span>
                        <span class="result-label">Sai</span>
                    </div>
                    <div class="result-stat">
                        <span class="result-value" id="resultAccuracy">0%</span>
                        <span class="result-label">Tá»· lá»‡</span>
                    </div>
                </div>
                <div class="wrong-words" id="wrongWordsList">
                    <!-- Wrong words will be shown here -->
                </div>
                <button class="btn btn-primary" id="backToDashboardBtn">Vá» Dashboard</button>
            </div>
        </section>
    </main>

    <!-- Bottom Tab Bar (Mobile) -->
    <nav class="bottom-nav" id="bottomNav">
        <button class="bottom-nav-item active" data-view="dashboard">
            <span class="bottom-nav-icon">ğŸ“Š</span>
            <span class="bottom-nav-label">Home</span>
        </button>
        <button class="bottom-nav-item" data-view="topics">
            <span class="bottom-nav-icon">ğŸ“–</span>
            <span class="bottom-nav-label">Chá»§ Ä‘á»</span>
        </button>
        <button class="bottom-nav-item" data-view="review-due">
            <span class="bottom-nav-icon">ğŸ¯</span>
            <span class="bottom-nav-label">Ã”n táº­p</span>
            <span class="bottom-nav-badge" id="dueBadgeMobile" style="display: none;">0</span>
        </button>
        <button class="bottom-nav-item" data-view="challenges">
            <span class="bottom-nav-icon">ğŸ†</span>
            <span class="bottom-nav-label">ThÃ¡ch Ä‘áº¥u</span>
            <span class="bottom-nav-badge" id="challengesBadgeMobile" style="display: none;">0</span>
        </button>
        <button class="bottom-nav-item" data-view="more-menu">
            <span class="bottom-nav-icon">âš™ï¸</span>
            <span class="bottom-nav-label">ThÃªm</span>
            <span class="bottom-nav-badge" id="moreBadge" style="display: none;">0</span>
        </button>
    </nav>

    <!-- More Menu (Mobile) -->
    <div class="more-menu-overlay" id="moreMenuOverlay"></div>
    <div class="more-menu" id="moreMenu">
        <div class="more-menu-header">
            <h3>Menu</h3>
            <button class="btn-icon" id="closeMoreMenu">âœ•</button>
        </div>
        <div class="more-menu-items">
            <button class="more-menu-item" data-view="all-words">
                <span class="more-menu-icon">ğŸ“–</span>
                <span class="more-menu-text">Táº¥t cáº£ tá»« vá»±ng</span>
            </button>
            <button class="more-menu-item" data-view="chat">
                <span class="more-menu-icon">ğŸ’¬</span>
                <span class="more-menu-text">Chat cá»™ng Ä‘á»“ng</span>
                <span class="more-menu-badge" id="chatBadgeMobile" style="display: none;">0</span>
            </button>
            <button class="more-menu-item" data-view="inbox">
                <span class="more-menu-icon">ğŸ“¬</span>
                <span class="more-menu-text">Tin nháº¯n riÃªng</span>
                <span class="more-menu-badge" id="inboxBadgeMobile" style="display: none;">0</span>
            </button>
            <button class="more-menu-item" data-view="explore">
                <span class="more-menu-icon">ğŸ”</span>
                <span class="more-menu-text">KhÃ¡m phÃ¡</span>
            </button>
            <div class="more-menu-divider"></div>
            <button class="more-menu-item" onclick="App.showProfileModal(); App.closeMoreMenu();">
                <span class="more-menu-icon">âš™ï¸</span>
                <span class="more-menu-text">CÃ i Ä‘áº·t</span>
            </button>
        </div>
    </div>

    <!-- Modal: Add/Edit Topic -->
    <div class="modal" id="topicModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="topicModalTitle">ThÃªm chá»§ Ä‘á»</h2>
                <button class="btn-icon modal-close" aria-label="ÄÃ³ng">âœ•</button>
            </div>
            <form id="topicForm">
                <div class="form-group">
                    <label for="topicName">TÃªn chá»§ Ä‘á»</label>
                    <input type="text" id="topicName" required placeholder="VD: Äá»™ng váº­t, Thá»©c Äƒn...">
                </div>
                <div class="form-group">
                    <label>Chá»n icon</label>
                    <div class="icon-picker" id="iconPicker">
                        <!-- Folders & Education -->
                        <button type="button" class="icon-option selected" data-icon="ğŸ“">ğŸ“</button>
                        <button type="button" class="icon-option" data-icon="ğŸ“‚">ğŸ“‚</button>
                        <button type="button" class="icon-option" data-icon="ğŸ“š">ğŸ“š</button>
                        <button type="button" class="icon-option" data-icon="ğŸ“–">ğŸ“–</button>
                        <button type="button" class="icon-option" data-icon="ğŸ“">ğŸ“</button>
                        <button type="button" class="icon-option" data-icon="ğŸ“">ğŸ“</button>
                        <button type="button" class="icon-option" data-icon="âœï¸">âœï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸ“‹">ğŸ“‹</button>
                        <!-- Work & Business -->
                        <button type="button" class="icon-option" data-icon="ğŸ’¼">ğŸ’¼</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’°">ğŸ’°</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’³">ğŸ’³</button>
                        <button type="button" class="icon-option" data-icon="ğŸ“Š">ğŸ“Š</button>
                        <button type="button" class="icon-option" data-icon="ğŸ“ˆ">ğŸ“ˆ</button>
                        <!-- Home & Building -->
                        <button type="button" class="icon-option" data-icon="ğŸ ">ğŸ </button>
                        <button type="button" class="icon-option" data-icon="ğŸ¢">ğŸ¢</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¥">ğŸ¥</button>
                        <button type="button" class="icon-option" data-icon="ğŸ«">ğŸ«</button>
                        <button type="button" class="icon-option" data-icon="ğŸª">ğŸª</button>
                        <!-- Food & Drink -->
                        <button type="button" class="icon-option" data-icon="ğŸ”">ğŸ”</button>
                        <button type="button" class="icon-option" data-icon="ğŸ•">ğŸ•</button>
                        <button type="button" class="icon-option" data-icon="ğŸœ">ğŸœ</button>
                        <button type="button" class="icon-option" data-icon="ğŸ">ğŸ</button>
                        <button type="button" class="icon-option" data-icon="ğŸ°">ğŸ°</button>
                        <button type="button" class="icon-option" data-icon="â˜•">â˜•</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¹">ğŸ¹</button>
                        <!-- Animals -->
                        <button type="button" class="icon-option" data-icon="ğŸ¶">ğŸ¶</button>
                        <button type="button" class="icon-option" data-icon="ğŸ±">ğŸ±</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¦">ğŸ¦</button>
                        <button type="button" class="icon-option" data-icon="ğŸ ">ğŸ </button>
                        <button type="button" class="icon-option" data-icon="ğŸ¦">ğŸ¦</button>
                        <button type="button" class="icon-option" data-icon="ğŸ˜">ğŸ˜</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¦‹">ğŸ¦‹</button>
                        <!-- Travel & Transport -->
                        <button type="button" class="icon-option" data-icon="âœˆï¸">âœˆï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸš—">ğŸš—</button>
                        <button type="button" class="icon-option" data-icon="ğŸš€">ğŸš€</button>
                        <button type="button" class="icon-option" data-icon="ğŸšŒ">ğŸšŒ</button>
                        <button type="button" class="icon-option" data-icon="ğŸš‚">ğŸš‚</button>
                        <button type="button" class="icon-option" data-icon="â›µ">â›µ</button>
                        <!-- Nature -->
                        <button type="button" class="icon-option" data-icon="ğŸŒ">ğŸŒ</button>
                        <button type="button" class="icon-option" data-icon="ğŸŒ³">ğŸŒ³</button>
                        <button type="button" class="icon-option" data-icon="ğŸŒ¸">ğŸŒ¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸŒ™">ğŸŒ™</button>
                        <button type="button" class="icon-option" data-icon="â˜€ï¸">â˜€ï¸</button>
                        <button type="button" class="icon-option" data-icon="â­">â­</button>
                        <button type="button" class="icon-option" data-icon="ğŸŒˆ">ğŸŒˆ</button>
                        <!-- Entertainment -->
                        <button type="button" class="icon-option" data-icon="ğŸµ">ğŸµ</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¬">ğŸ¬</button>
                        <button type="button" class="icon-option" data-icon="ğŸ®">ğŸ®</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¨">ğŸ¨</button>
                        <button type="button" class="icon-option" data-icon="ğŸ­">ğŸ­</button>
                        <button type="button" class="icon-option" data-icon="ğŸ“·">ğŸ“·</button>
                        <!-- Sports -->
                        <button type="button" class="icon-option" data-icon="âš½">âš½</button>
                        <button type="button" class="icon-option" data-icon="ğŸ€">ğŸ€</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¾">ğŸ¾</button>
                        <button type="button" class="icon-option" data-icon="ğŸŠ">ğŸŠ</button>
                        <button type="button" class="icon-option" data-icon="ğŸƒ">ğŸƒ</button>
                        <!-- Technology -->
                        <button type="button" class="icon-option" data-icon="ğŸ’»">ğŸ’»</button>
                        <button type="button" class="icon-option" data-icon="ğŸ“±">ğŸ“±</button>
                        <button type="button" class="icon-option" data-icon="ğŸ”§">ğŸ”§</button>
                        <button type="button" class="icon-option" data-icon="âš™ï¸">âš™ï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸ”¬">ğŸ”¬</button>
                        <!-- Health & Body -->
                        <button type="button" class="icon-option" data-icon="â¤ï¸">â¤ï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’ª">ğŸ’ª</button>
                        <button type="button" class="icon-option" data-icon="ğŸ‘¤">ğŸ‘¤</button>
                        <button type="button" class="icon-option" data-icon="ğŸ‘¨â€ğŸ‘©â€ğŸ‘§">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</button>
                        <!-- Misc -->
                        <button type="button" class="icon-option" data-icon="ğŸ">ğŸ</button>
                        <button type="button" class="icon-option" data-icon="ğŸ””">ğŸ””</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’¡">ğŸ’¡</button>
                        <button type="button" class="icon-option" data-icon="ğŸ”‘">ğŸ”‘</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’">ğŸ’</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¯">ğŸ¯</button>
                        <!-- Awards & Badges -->
                        <button type="button" class="icon-option" data-icon="ğŸ†">ğŸ†</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¥‡">ğŸ¥‡</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¥ˆ">ğŸ¥ˆ</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¥‰">ğŸ¥‰</button>
                        <button type="button" class="icon-option" data-icon="ğŸ…">ğŸ…</button>
                        <button type="button" class="icon-option" data-icon="ğŸ–ï¸">ğŸ–ï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸ‘‘">ğŸ‘‘</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’«">ğŸ’«</button>
                        <button type="button" class="icon-option" data-icon="âœ¨">âœ¨</button>
                        <button type="button" class="icon-option" data-icon="ğŸŒŸ">ğŸŒŸ</button>
                        <!-- Clothing & Objects -->
                        <button type="button" class="icon-option" data-icon="ğŸ‘•">ğŸ‘•</button>
                        <button type="button" class="icon-option" data-icon="ğŸ‘–">ğŸ‘–</button>
                        <button type="button" class="icon-option" data-icon="ğŸ‘—">ğŸ‘—</button>
                        <button type="button" class="icon-option" data-icon="ğŸ‘">ğŸ‘</button>
                        <button type="button" class="icon-option" data-icon="ğŸ‘’">ğŸ‘’</button>
                        <button type="button" class="icon-option" data-icon="ğŸ‘œ">ğŸ‘œ</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’">ğŸ’</button>
                        <!-- Furniture & Tools -->
                        <button type="button" class="icon-option" data-icon="ğŸ›‹ï¸">ğŸ›‹ï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸ›ï¸">ğŸ›ï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸª‘">ğŸª‘</button>
                        <button type="button" class="icon-option" data-icon="ğŸšª">ğŸšª</button>
                        <button type="button" class="icon-option" data-icon="ğŸ”¨">ğŸ”¨</button>
                        <button type="button" class="icon-option" data-icon="ğŸª¥">ğŸª¥</button>
                        <!-- Emotions & People -->
                        <button type="button" class="icon-option" data-icon="ğŸ˜€">ğŸ˜€</button>
                        <button type="button" class="icon-option" data-icon="ğŸ˜Š">ğŸ˜Š</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¤”">ğŸ¤”</button>
                        <button type="button" class="icon-option" data-icon="ğŸ˜">ğŸ˜</button>
                        <button type="button" class="icon-option" data-icon="ğŸ§‘â€ğŸ’»">ğŸ§‘â€ğŸ’»</button>
                        <button type="button" class="icon-option" data-icon="ğŸ‘¨â€ğŸ“">ğŸ‘¨â€ğŸ“</button>
                        <button type="button" class="icon-option" data-icon="ğŸ‘©â€ğŸ«">ğŸ‘©â€ğŸ«</button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Chá»n mÃ u</label>
                    <div class="color-picker" id="colorPicker">
                        <button type="button" class="color-option selected" data-color="#FF6B6B" style="background:#FF6B6B"></button>
                        <button type="button" class="color-option" data-color="#4ECDC4" style="background:#4ECDC4"></button>
                        <button type="button" class="color-option" data-color="#45B7D1" style="background:#45B7D1"></button>
                        <button type="button" class="color-option" data-color="#96CEB4" style="background:#96CEB4"></button>
                        <button type="button" class="color-option" data-color="#FFEAA7" style="background:#FFEAA7"></button>
                        <button type="button" class="color-option" data-color="#DDA0DD" style="background:#DDA0DD"></button>
                        <button type="button" class="color-option" data-color="#98D8C8" style="background:#98D8C8"></button>
                        <button type="button" class="color-option" data-color="#F7DC6F" style="background:#F7DC6F"></button>
                    </div>
                </div>
                <div class="form-group">
                    <label class="checkbox-label" style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                        <input type="checkbox" id="topicPublic" style="width: 18px; height: 18px;">
                        <span>ğŸ“¢ Chia sáº» cÃ´ng khai (Ä‘á»ƒ ngÆ°á»i khÃ¡c cÃ³ thá»ƒ tham kháº£o)</span>
                    </label>
                </div>
                <input type="hidden" id="topicId">
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary modal-close">Há»§y</button>
                    <button type="submit" class="btn btn-primary">LÆ°u</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: Create Challenge -->
    <div class="modal" id="challengeModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>âš”ï¸ Táº¡o thÃ¡ch Ä‘áº¥u</h2>
                <button class="btn-icon modal-close" aria-label="ÄÃ³ng">âœ•</button>
            </div>
            <div class="form-group">
                <label>Chá»n Ä‘á»‘i thá»§ (click Ä‘á»ƒ chá»n)</label>
                <div id="challengeOpponentList" class="opponent-list">
                    <!-- Users will be populated with avatars -->
                </div>
            </div>
            <div class="form-group">
                <label>Chá»n Topic</label>
                <select id="challengeTopicSelect" class="form-select">
                    <!-- Topics will be populated -->
                </select>
            </div>
            <div class="form-group">
                <label>Sá»‘ tá»«</label>
                <input type="number" id="challengeWordCount" class="form-input" value="10" min="5" max="50">
            </div>
            <input type="hidden" id="challengeOpponentId">
            <div class="form-actions">
                <button type="button" class="btn btn-secondary modal-close">Há»§y</button>
                <button type="button" class="btn btn-primary" id="sendChallengeBtn">Gá»­i thÃ¡ch Ä‘áº¥u</button>
            </div>
        </div>
    </div>

    <!-- Modal: Import CSV -->
    <div class="modal" id="importModal">
        <div class="modal-overlay"></div>
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>ğŸ“¥ Import tá»« vá»±ng</h2>
                <button class="btn-icon modal-close" aria-label="ÄÃ³ng">âœ•</button>
            </div>
            <div class="form-group">
                <label>Chá»n file CSV hoáº·c Excel</label>
                <input type="file" id="importFile" accept=".csv,.txt,.xlsx,.xls" class="file-input">
                <p class="form-hint">Format: cá»™t 1 = English, cá»™t 2 = Vietnamese</p>
            </div>
            <div class="form-group">
                <label>Import vÃ o Topic</label>
                <select id="importTopicSelect" class="form-select">
                    <!-- Topics will be populated -->
                </select>
            </div>
            <div class="import-preview-container">
                <div class="import-preview-header">
                    <span>Xem trÆ°á»›c (<span id="importCount">0</span> tá»«)</span>
                </div>
                <div id="importPreview" class="import-preview">
                    <p class="empty-state">Chá»n file CSV Ä‘á»ƒ xem trÆ°á»›c</p>
                </div>
            </div>
            <div class="form-actions">
                <button type="button" class="btn btn-secondary modal-close">Há»§y</button>
                <button type="button" class="btn btn-primary" id="executeImportBtn" disabled>Import</button>
            </div>
        </div>
    </div>

    <!-- Modal: Add/Edit Word -->
    <div class="modal" id="wordModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="wordModalTitle">ThÃªm tá»« vá»±ng</h2>
                <button class="btn-icon modal-close" aria-label="ÄÃ³ng">âœ•</button>
            </div>
            <form id="wordForm">
                <div class="form-group">
                    <label for="wordEnglish">Tiáº¿ng Anh</label>
                    <input type="text" id="wordEnglish" required placeholder="VD: apple">
                </div>
                <div class="form-group">
                    <label for="wordVietnamese">Tiáº¿ng Viá»‡t</label>
                    <input type="text" id="wordVietnamese" required placeholder="VD: quáº£ tÃ¡o">
                </div>
                <input type="hidden" id="wordId">
                <input type="hidden" id="wordTopicId">
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary modal-close">Há»§y</button>
                    <button type="submit" class="btn btn-primary">LÆ°u</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: Test/Review Config -->
    <div class="modal" id="configModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="configModalTitle">Cáº¥u hÃ¬nh</h2>
                <button class="btn-icon modal-close" aria-label="ÄÃ³ng">âœ•</button>
            </div>
            <form id="configForm">
                <div class="form-group">
                    <label>Pháº¡m vi</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="scope" value="topic" checked>
                            <span>Chá»§ Ä‘á» hiá»‡n táº¡i</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="scope" value="all">
                            <span>Táº¥t cáº£ tá»« vá»±ng</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Sá»‘ lÆ°á»£ng tá»«</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="count" value="all" checked>
                            <span>Táº¥t cáº£ (<span id="totalWordsCount">0</span> tá»«)</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="count" value="random">
                            <span>Random:</span>
                            <input type="number" id="randomCount" min="1" value="10" class="inline-input">
                            <span>tá»«</span>
                        </label>
                    </div>
                </div>
                <input type="hidden" id="configMode">
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary modal-close">Há»§y</button>
                    <button type="submit" class="btn btn-primary">Báº¯t Ä‘áº§u</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: Edit User (Admin) -->
    <div class="modal" id="editUserModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Sá»­a User</h2>
                <button class="btn-icon modal-close" aria-label="ÄÃ³ng">âœ•</button>
            </div>
            <form id="editUserForm">
                <div class="form-group">
                    <label>TÃªn hiá»ƒn thá»‹</label>
                    <input type="text" id="editUserName" required>
                </div>
                <div class="form-group">
                    <label>XP</label>
                    <input type="number" id="editUserXP" min="0">
                </div>
                <div class="form-group">
                    <label>Streak (ngÃ y)</label>
                    <input type="number" id="editUserStreak" min="0">
                </div>
                <div class="form-group">
                    <label>Freeze cÃ²n láº¡i</label>
                    <input type="number" id="editUserFreeze" min="0">
                </div>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="editUserAdmin">
                        <span>LÃ  Admin</span>
                    </label>
                </div>
                <div class="form-group">
                    <label>ğŸ’ Premium Badges (cáº¥p cho user)</label>
                    <div class="premium-badges-checkboxes">
                        <label class="checkbox-label">
                            <input type="checkbox" id="editBadgeVerified">
                            <span>âœ… Verified</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="editBadgeDiamond">
                            <span>ğŸ’ Diamond</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="editBadgeFlame">
                            <span>ğŸ”¥ Flame</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="editBadgeRainbow">
                            <span>ğŸŒˆ Rainbow</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="editBadgeUnique">
                            <span>ğŸ­ Unique</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="editBadgeVip">
                            <span>ğŸ‘‘ VIP</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="editBadgeCreator">
                            <span>ğŸ“· Creator</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="editBadgeDeveloper">
                            <span>ğŸ’» Developer</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="editBadgeSupporter">
                            <span>â¤ï¸ Supporter</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="editBadgeChampion">
                            <span>ğŸ… Champion</span>
                        </label>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary modal-close">Há»§y</button>
                    <button type="submit" class="btn btn-primary">LÆ°u</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: View User Profile -->
    <div class="modal" id="viewUserModal">
        <div class="modal-overlay"></div>
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2>ThÃ´ng tin ngÆ°á»i dÃ¹ng</h2>
                <button class="btn-icon modal-close" aria-label="ÄÃ³ng">âœ•</button>
            </div>
            <div class="view-user-content">
                <div class="view-user-header">
                    <img src="" alt="" class="view-user-avatar" id="viewUserAvatar">
                    <div class="view-user-name" id="viewUserName">Name</div>
                </div>
                <div class="view-user-stats">
                    <div class="view-user-stat">
                        <span class="stat-value" id="viewUserXP">0</span>
                        <span class="stat-label">XP</span>
                    </div>
                    <div class="view-user-stat">
                        <span class="stat-value" id="viewUserStreak">0</span>
                        <span class="stat-label">ğŸ”¥ Streak</span>
                    </div>
                    <div class="view-user-stat">
                        <span class="stat-value" id="viewUserWords">0</span>
                        <span class="stat-label">Tá»« vá»±ng</span>
                    </div>
                    <div class="view-user-stat">
                        <span class="stat-value" id="viewUserMastered">0</span>
                        <span class="stat-label">ÄÃ£ thuá»™c</span>
                    </div>
                </div>
                <div class="view-user-actions" id="viewUserActions">
                    <button class="btn btn-secondary" id="viewUserMessageBtn">ğŸ’¬ Nháº¯n tin</button>
                    <button class="btn btn-primary" id="viewUserChallengeBtn">âš”ï¸ ThÃ¡ch Ä‘áº¥u</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: User Data (Admin) -->
    <div class="modal" id="userDataModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="userDataTitle">User Data</h2>
                <button class="btn-icon modal-close" aria-label="ÄÃ³ng">âœ•</button>
            </div>
            <div id="userDataContent" class="user-data-container">
                <!-- User topics and words will be rendered here -->
            </div>
            <div class="form-actions">
                <button type="button" class="btn btn-secondary modal-close">ÄÃ³ng</button>
            </div>
        </div>
    </div>

    <!-- Modal: Confirm Delete -->
    <div class="modal" id="confirmModal">
        <div class="modal-overlay"></div>
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2>XÃ¡c nháº­n xÃ³a</h2>
                <button class="btn-icon modal-close" aria-label="ÄÃ³ng">âœ•</button>
            </div>
            <p id="confirmMessage">Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a?</p>
            <div class="form-actions">
                <button type="button" class="btn btn-secondary modal-close">Há»§y</button>
                <button type="button" class="btn btn-danger" id="confirmDeleteBtn">XÃ³a</button>
            </div>
        </div>
    </div>

    <!-- Modal: User Profile -->
    <div class="modal" id="profileModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>TÃ i khoáº£n</h2>
                <button class="btn-icon modal-close" aria-label="ÄÃ³ng">âœ•</button>
            </div>
            <div class="profile-content">
                <!-- User Info -->
                <div class="profile-user">
                    <img id="profileAvatar" class="profile-avatar" src="" alt="Avatar">
                    <div class="profile-details">
                        <div class="profile-name-row">
                            <h3 id="profileName">NgÆ°á»i dÃ¹ng</h3>
                            <button class="edit-name-btn" onclick="App.editDisplayName()">âœï¸</button>
                        </div>
                        <p id="profileEmail">email@example.com</p>
                    </div>
                </div>
                
                <!-- Stats -->
                <div class="profile-stats">
                    <div class="profile-stat">
                        <span class="profile-stat-value" id="profileTotalWords">0</span>
                        <span class="profile-stat-label">Tá»•ng tá»«</span>
                    </div>
                    <div class="profile-stat">
                        <span class="profile-stat-value" id="profileMastered">0</span>
                        <span class="profile-stat-label">ÄÃ£ thuá»™c</span>
                    </div>
                    <div class="profile-stat">
                        <span class="profile-stat-value" id="profileStreak">0</span>
                        <span class="profile-stat-label">Chuá»—i ngÃ y</span>
                    </div>
                    <div class="profile-stat">
                        <span class="profile-stat-value" id="profileFreezes">â„ï¸3</span>
                        <span class="profile-stat-label">Freeze</span>
                    </div>
                </div>
                
                <!-- Level Progress -->
                <div class="profile-level">
                    <div class="level-header">
                        <span id="profileLevel">Cáº¥p 1: NgÆ°á»i há»c má»›i</span>
                        <span id="profileXP">0 XP</span>
                    </div>
                    <div class="level-bar">
                        <div class="level-fill" id="profileLevelFill" style="width: 0%"></div>
                    </div>
                </div>
                
                <!-- Animated Badge -->
                <div class="profile-section">
                    <h4>ğŸ·ï¸ Badge Hiá»‡u á»¨ng</h4>
                    <div class="animated-badge-section" id="profileAnimatedBadge">
                        <!-- Badge will be rendered here by JS -->
                    </div>
                </div>
                
                <!-- Badges -->
                <div class="profile-section">
                    <h4>ğŸ… Huy chÆ°Æ¡ng</h4>
                    <div class="badges-grid" id="profileBadges">
                        <!-- Badges will be rendered here -->
                    </div>
                </div>
                
                <!-- Voice Settings -->
                <div class="profile-section">
                    <h4>ğŸ”Š Giá»ng Ä‘á»c</h4>
                    <div class="voice-settings">
                        <div class="form-group">
                            <label>Chá»n giá»ng:</label>
                            <select id="voiceSelect" class="form-select" onchange="Speech.setVoice(this.value)">
                                <option value="">Tá»± Ä‘á»™ng chá»n tá»‘t nháº¥t</option>
                                <!-- Voices will be populated by JS -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Tá»‘c Ä‘á»™ Ä‘á»c:</label>
                            <div class="speed-control">
                                <input type="range" id="voiceSpeedRange" min="0.5" max="2" step="0.1" value="1" 
                                       onchange="Speech.setRate(parseFloat(this.value)); document.getElementById('voiceSpeedValue').textContent = this.value + 'x'">
                                <span id="voiceSpeedValue">1x</span>
                            </div>
                        </div>
                        <button class="btn btn-secondary btn-sm" onclick="Speech.speak('Hello, this is a test of the selected voice.')">
                            ğŸ”Š Test giá»ng Ä‘á»c
                        </button>
                    </div>
                </div>
                
                <!-- Theme Mode (Light/Dark) -->
                <div class="profile-section">
                    <h4>ğŸŒ— Cháº¿ Ä‘á»™ hiá»ƒn thá»‹</h4>
                    <div class="theme-mode-toggle">
                        <button class="theme-mode-btn" data-theme="light" onclick="App.setThemeMode('light')">
                            <span>â˜€ï¸</span>
                            <span>SÃ¡ng</span>
                        </button>
                        <button class="theme-mode-btn active" data-theme="dark" onclick="App.setThemeMode('dark')">
                            <span>ğŸŒ™</span>
                            <span>Tá»‘i</span>
                        </button>
                    </div>
                </div>
                
                <!-- Sync Button -->
                <div class="profile-section">
                    <h4>â˜ï¸ Äá»“ng bá»™ dá»¯ liá»‡u</h4>
                    <button class="btn btn-secondary btn-block" id="syncBtnProfile" onclick="App.syncData()">
                        â˜ï¸ Äá»“ng bá»™ ngay
                    </button>
                </div>
                
                <!-- Theme Colors -->
                <div class="profile-section">
                    <h4>ğŸ¨ MÃ u chá»§ Ä‘á»</h4>
                    <div class="theme-colors" id="themeColors">
                        <button class="color-option active" data-color="" title="Indigo">
                            <span style="background: #6366f1"></span>
                        </button>
                        <button class="color-option" data-color="emerald" title="Emerald">
                            <span style="background: #10b981"></span>
                        </button>
                        <button class="color-option" data-color="rose" title="Rose">
                            <span style="background: #f43f5e"></span>
                        </button>
                        <button class="color-option" data-color="amber" title="Amber">
                            <span style="background: #f59e0b"></span>
                        </button>
                        <button class="color-option" data-color="cyan" title="Cyan">
                            <span style="background: #06b6d4"></span>
                        </button>
                    </div>
                </div>
                
                <!-- Reminder Setting -->
                <div class="profile-section">
                    <h4>â° Nháº¯c nhá»Ÿ há»c táº­p</h4>
                    <div class="reminder-setting">
                        <button class="btn btn-primary notif-enable-btn" id="enableNotifBtn">
                            ğŸ”” Báº­t thÃ´ng bÃ¡o Ä‘áº©y
                        </button>
                        <label class="toggle-label">
                            <input type="checkbox" id="reminderEnabled" checked>
                            <span class="toggle-text">Nháº¯c Ã´n táº­p hÃ ng ngÃ y</span>
                        </label>
                        <div class="reminder-time-row" id="reminderTimeRow">
                            <span>Nháº¯c lÃºc:</span>
                            <select id="reminderTime" class="reminder-time-select">
                                <option value="06:00">06:00</option>
                                <option value="07:00">07:00</option>
                                <option value="08:00">08:00</option>
                                <option value="09:00">09:00</option>
                                <option value="10:00">10:00</option>
                                <option value="11:00">11:00</option>
                                <option value="12:00">12:00</option>
                                <option value="13:00">13:00</option>
                                <option value="14:00">14:00</option>
                                <option value="15:00">15:00</option>
                                <option value="16:00">16:00</option>
                                <option value="17:00">17:00</option>
                                <option value="18:00">18:00</option>
                                <option value="19:00">19:00</option>
                                <option value="20:00" selected>20:00</option>
                                <option value="21:00">21:00</option>
                                <option value="22:00">22:00</option>
                                <option value="23:00">23:00</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- History Summary -->
                <div class="profile-section">
                    <h4>ğŸ“Š Thá»‘ng kÃª sá»­ dá»¥ng</h4>
                    <ul class="profile-history">
                        <li>NgÃ y tham gia: <span id="profileJoinDate">--</span></li>
                        <li>Tá»•ng bÃ i kiá»ƒm tra: <span id="profileTestCount">0</span></li>
                        <li>Äá»™ chÃ­nh xÃ¡c: <span id="profileAccuracy">0%</span></li>
                    </ul>
                </div>
            </div>
            <div class="form-actions">
                <button type="button" class="btn btn-secondary modal-close">ÄÃ³ng</button>
                <button type="button" class="btn btn-danger" id="profileLogoutBtn">ğŸšª ÄÄƒng xuáº¥t</button>
        </div>
    </div>

    <!-- Close App Container -->
    </div>

    <!-- Toast Notification -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="js/storage.js"></script>
    <script src="js/firebase.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/security.js"></script>
    <script src="js/srs.js"></script>
    <script src="js/speech.js"></script>
    <script src="js/stats.js"></script>
    <script src="js/topics.js"></script>
    <script src="js/vocabulary.js"></script>
    <script src="js/review.js"></script>
    <script src="js/test.js"></script>
    <script src="js/badges.js"></script>
    <script src="js/achievements.js"></script>
    <script src="js/leaderboard.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/import.js"></script>
    <script src="js/privateChat.js"></script>
    <script src="js/challenges.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/explore.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
